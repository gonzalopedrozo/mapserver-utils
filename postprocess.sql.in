-- optional, makes it easier to wrap place names
update OSM_PREFIX_point set name = replace(name,'-',' ');

-- grant our user access to the data
grant SELECT on OSM_PREFIX_line to "openstreetmap";
grant SELECT on OSM_PREFIX_point to "openstreetmap";
grant SELECT on OSM_PREFIX_polygon to "openstreetmap";

-- correct a few common typos
update OSM_PREFIX_line set tunnel='yes' where tunnel='true';
update OSM_PREFIX_line set tunnel='no' where tunnel='false';
update OSM_PREFIX_line set tunnel='yes' where tunnel='yel';
update OSM_PREFIX_line set bridge='yes' where bridge='true';

update OSM_PREFIX_line set oneway='yes' where oneway='Yes';
update OSM_PREFIX_line set oneway='yes' where oneway='true';
update OSM_PREFIX_line set oneway='yes' where oneway='1';

-- create a few indexes on the data for speedier access
create index OSM_PREFIX_polygon_building_idx on OSM_PREFIX_polygon(building);
create index OSM_PREFIX_polygon_amenity_idx on OSM_PREFIX_polygon(amenity);
create index OSM_PREFIX_polygon_landuse_idx on OSM_PREFIX_polygon(landuse);
create index OSM_PREFIX_line_highway_idx on OSM_PREFIX_line(highway);
create index OSM_PREFIX_line_aeroway_idx on OSM_PREFIX_line(aeroway);
create index OSM_PREFIX_line_waterway_idx on OSM_PREFIX_line(waterway);
create index OSM_PREFIX_line_railway_idx on OSM_PREFIX_line(railway);
create index OSM_PREFIX_line_bridge_idx on OSM_PREFIX_line(bridge);
create index OSM_PREFIX_polygon_leisure_idx on OSM_PREFIX_polygon(leisure);
create index OSM_PREFIX_polygon_aeroway_idx on OSM_PREFIX_polygon(aeroway);
create index OSM_PREFIX_polygon_waterway_idx on OSM_PREFIX_polygon(waterway);
create index OSM_PREFIX_polygon_natural_idx on OSM_PREFIX_polygon("natural");
create index OSM_PREFIX_point_place_idx on OSM_PREFIX_point(place);
create index OSM_PREFIX_line_zorder_idx on OSM_PREFIX_line(z_order);
